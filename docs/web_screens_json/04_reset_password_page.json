{
  "pageId": "ResetPasswordPage",
  "version": "1.0",
  "path": "/reset-password/:resetToken",
  "description": "A secure web page where a user can set a new password after following a link from a password reset email.",
  "layout": {
    "type": "centered-container",
    "maxWidth": "360px"
  },
  "uiComponents": [
    {
      "componentId": "Title",
      "componentType": "Text",
      "tag": "h1",
      "content": {
        "key": "reset_password_title",
        "defaultValue": "Reset Your Password"
      }
    },
    {
      "componentId": "ResetPasswordForm",
      "componentType": "Form",
      "children": [
        {
          "componentId": "NewPasswordInput",
          "componentType": "TextInput",
          "label": { "key": "new_password_label", "defaultValue": "New Password" },
          "isSecure": true,
          "validation": { "rules": ["required", "minLength:8"] }
        },
        {
          "componentId": "ConfirmPasswordInput",
          "componentType": "TextInput",
          "label": { "key": "confirm_password_label", "defaultValue": "Confirm New Password" },
          "isSecure": true,
          "validation": { "rules": ["required", "matches:NewPasswordInput"] }
        },
        {
          "componentId": "SubmitButton",
          "componentType": "Button",
          "content": { "labelKey": "reset_password_button", "defaultValue": "Reset Password" }
        }
      ]
    }
  ],
  "clientSideLogic": {
    "onLoad": "Validate the resetToken from the URL with the backend.",
    "onSubmit": "Call the reset password API. On success, show a success message and a link to the login page. On failure, show an error message."
  },
  "apiCalls": [
    {
      "id": "validateResetToken",
      "endpoint": "/users/validate-reset-token",
      "method": "POST",
      "description": "Checks if a password reset token is valid."
    },
    {
      "id": "resetPassword",
      "endpoint": "/users/reset-password",
      "method": "POST",
      "description": "Sets a new password for the user associated with the reset token."
    }
  ]
}
