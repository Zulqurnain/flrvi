{
  "endpoint": "/api/v1/profile/search",
  "method": "GET",
  "description": "Schema definition for searching user profiles with filters.",
  "request": {
    "headers": [
      {
        "name": "x-auth-token",
        "description": "The user's JWT for authentication.",
        "required": true
      }
    ],
    "queryParams": [
      {
        "name": "age_min",
        "type": "integer",
        "description": "The minimum age for the search range."
      },
      {
        "name": "age_max",
        "type": "integer",
        "description": "The maximum age for the search range."
      },
      {
        "name": "gender",
        "type": "string",
        "enum": ["Man", "Woman", "Other"]
      },
      {
        "name": "location",
        "type": "string",
        "description": "A text string for location-based searching."
      },
      {
        "name": "interests",
        "type": "string",
        "description": "A comma-separated list of interests to filter by."
      },
      {
        "name": "page",
        "type": "integer",
        "description": "The page number for pagination.",
        "default": 1
      }
    ]
  },
  "response": {
    "200_OK": {
      "type": "array",
      "items": {
        "$ref": "#/components/schemas/ProfileSummary"
      }
    }
  },
  "components": {
    "schemas": {
      "ProfileSummary": {
        "type": "object",
        "properties": {
          "_id": { "type": "string", "format": "objectId" },
          "user": {
            "type": "object",
            "properties": {
              "_id": { "type": "string", "format": "objectId" },
              "name": { "type": "string" }
            }
          },
          "primaryPhoto": { "type": "string", "format": "uri" },
          "age": { "type": "integer" },
          "location": { "type": "string" },
          "isOnline": { "type": "boolean" }
        }
      }
    }
  }
}
